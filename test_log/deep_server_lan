[2024-08-19 19:25:10.910] [info] [sanns_demo_deep.cc:257] Total bin number (batch size of argmin): 6244 , Max bin size: 235
[2024-08-19 19:25:10.910] [info] [sanns_demo_deep.cc:273] Batch query size: 186, Cluster size: , Element size (coeff size): 378890
[2024-08-19 19:25:12.291] [info] [state.h:150] CHEETAH: Uses yacl_ferret OT
[2024-08-19 19:25:12.336] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:12.843] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:13.345] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:13.834] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:14.334] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:14.821] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:15.321] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:15.807] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:16.307] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:16.792] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:17.292] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:17.774] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:18.278] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:18.785] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:19.297] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:19.781] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:20.330] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:20.828] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:21.333] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:21.826] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:22.335] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:22.831] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:23.344] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:23.848] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:24.358] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:24.856] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:25.371] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:25.867] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:26.378] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:26.878] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:27.383] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:27.881] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:28.389] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:28.888] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:29.394] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:29.890] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:30.420] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:30.925] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:31.428] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:31.920] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:32.421] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:32.937] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:33.437] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:33.927] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:34.426] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:34.920] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:35.419] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:35.910] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:36.407] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:36.917] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:37.412] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:37.910] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:38.411] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:38.918] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:39.416] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:39.906] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:40.405] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:40.929] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:41.429] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:41.925] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:42.425] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:42.902] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:43.386] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:43.860] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:44.346] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:44.820] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:45.302] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:45.774] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:46.253] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:46.727] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:47.228] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:47.714] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:48.206] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:48.689] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:49.176] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:49.655] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:50.145] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:50.623] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:51.110] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:51.591] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:52.079] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:52.558] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:53.045] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:53.523] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:54.010] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:54.488] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:54.975] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:55.444] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:55.923] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:56.400] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:56.884] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:57.361] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:57.845] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:58.320] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:58.800] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:59.272] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:25:59.714] [info] [sanns_demo_deep.cc:199] DB: element number:378890 element size:3920
[2024-08-19 19:26:30.474] [info] [thread_pool.cc:30] Create a fixed thread pool with size 63
[2024-08-19 19:26:30.502] [info] [seal_mpir.cc:43] Element_number:378890
[2024-08-19 19:26:30.523] [info] [seal_mpir.h:98] N:4096 Max bin size:4131 Element size:3920
connected
[2024-08-19 19:27:43.887] [info] [dist_cmp.cc:195] Recv time: 31.31369 ms
[2024-08-19 19:27:44.372] [info] [dist_cmp.cc:269] Prepoint time: 484.702107
[2024-08-19 19:27:44.372] [info] [dist_cmp.cc:281] Distance NTT time: 485.254511 ms
[2024-08-19 19:27:44.474] [info] [dist_cmp.cc:306] H2A Time: 87.751262 ms
[2024-08-19 19:27:44.531] [info] [dist_cmp.cc:314] Distance Compute Time : 644.689974 ms
[2024-08-19 19:27:44.533] [info] [sanns_demo_deep.cc:452] Distance cmp time: 1341.298229 ms
[2024-08-19 19:27:44.533] [info] [sanns_demo_deep.cc:453] Distance server sent actions: 93, Distance comm: 4.1132707595825195 MB
[2024-08-19 19:27:45.247] [info] [sanns_demo_deep.cc:468] Batch number: 6244, element number: 235, Argmax server sent actions: 2578, Argmin comm: 17.286571502685547 MB
[2024-08-19 19:27:45.247] [info] [sanns_demo_deep.cc:476] Argmin cmp time: 714.133613 ms
[2024-08-19 19:27:45.612] [info] [sanns_demo_deep.cc:491] Gc_Naive_topk cmp time: 365.028285 ms
[2024-08-19 19:27:45.612] [info] [sanns_demo_deep.cc:494] Gc_Naive_topk cmp comm: 139.88010787963867 MB
[2024-08-19 19:27:45.838] [info] [seal_mpir.cc:214] PIR: Recv time: 225.701331 ms
[2024-08-19 19:27:45.838] [info] [seal_mpir.cc:215] PIR: Query recv comm: 45763.427734375 KB
[2024-08-19 19:27:48.714] [info] [seal_mpir.cc:248] PIR: Compute time: 2865.04657 ms
[2024-08-19 19:27:48.733] [info] [seal_mpir.cc:266] PIR: Transfer to Protobuffer: 19.849104 ms
[2024-08-19 19:27:48.746] [info] [seal_mpir.cc:279] PIR: Send time: 12.51769 ms
[2024-08-19 19:27:48.746] [info] [seal_mpir.cc:280] PIR: Query sent comm: 25994.984375 KB
[2024-08-19 19:27:48.746] [info] [seal_mpir.cc:285] PIR: Answer generate: 3133.879427 ms
[2024-08-19 19:27:48.751] [info] [sanns_demo_deep.cc:500] PIR server response comm: 25.385726928710938 MB
[2024-08-19 19:27:48.751] [info] [sanns_demo_deep.cc:504] PIR cmp time: 3138.716575 ms
[2024-08-19 19:27:49.240] [info] [dist_cmp.cc:216] Distance NTT time: 5.972863 ms
[2024-08-19 19:27:49.245] [info] [dist_cmp.cc:240] H2A Time: 2.905856 ms
[2024-08-19 19:27:49.247] [info] [dist_cmp.cc:249] Distance Compute Time : 13.265425 ms
[2024-08-19 19:27:49.247] [info] [sanns_demo_deep.cc:514] Point_distance comm: 0.1326465606689453 MB
[2024-08-19 19:27:49.247] [info] [sanns_demo_deep.cc:518] Point_distance time: 496.427045 ms
[2024-08-19 19:27:49.574] [info] [sanns_demo_deep.cc:528] End_topk_11490-10 time: 822.928765 ms
[2024-08-19 19:27:49.574] [info] [sanns_demo_deep.cc:532] End_topk_11490-10 comm: 132.98704147338867 MB
[2024-08-19 19:27:49.574] [info] [sanns_demo_deep.cc:539] Total time: 6382.158506 ms
[2024-08-19 19:27:49.574] [info] [sanns_demo_deep.cc:542] Total comm: 320.4668836593628 MB
[2024-08-19 19:27:50.317] [warning] [channel.h:163] Channel destructor is called before WaitLinkTaskFinish, try stop send thread
