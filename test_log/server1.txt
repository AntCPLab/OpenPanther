[2024-08-19 18:48:08.118] [info] [sanns_demo.cc:260] Total bin number (batch size of argmin): 1252 , Max bin size: 120
[2024-08-19 18:48:08.119] [info] [sanns_demo.cc:276] Batch query size: 113, Cluster size: , Element size (coeff size): 90608
[2024-08-19 18:48:10.053] [info] [state.h:150] CHEETAH: Uses yacl_ferret OT
[2024-08-19 18:48:10.098] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:10.591] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:11.092] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:11.574] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:12.055] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:12.536] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:13.016] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:13.495] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:13.975] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:14.451] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:14.948] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:15.438] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:15.936] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:16.453] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:17.042] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:17.518] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:18.023] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:18.524] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:19.027] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:19.566] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:20.079] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:20.581] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:21.090] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:21.600] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:22.105] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:22.603] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:23.109] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:23.617] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:24.125] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:24.624] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:25.140] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:25.646] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:26.155] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:26.652] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:27.154] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:27.648] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:28.151] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:28.641] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:29.140] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:29.638] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:30.136] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:30.623] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:31.117] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:31.612] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:32.105] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:32.590] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:33.082] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:33.609] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:34.121] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:34.620] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:35.122] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:35.613] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:36.112] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:36.595] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:37.084] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:37.561] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:38.058] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:38.544] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:39.060] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:39.545] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:40.040] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:40.528] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:41.017] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:41.505] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:41.993] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:42.481] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:42.970] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:43.456] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:43.945] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:44.433] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:44.919] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:45.411] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:45.899] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:46.386] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:46.877] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:47.363] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:47.851] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:48.335] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:48.823] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:49.308] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:49.795] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:50.278] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:50.764] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:51.249] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:51.734] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:52.219] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:52.703] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:53.188] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:53.674] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:54.159] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:54.646] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:55.132] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:55.619] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:56.104] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:56.591] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:57.075] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 18:48:57.525] [info] [sanns_demo.cc:174] DB: element number:90608 element size:2600
[2024-08-19 18:49:02.082] [info] [thread_pool.cc:30] Create a fixed thread pool with size 63
[2024-08-19 18:49:02.089] [info] [seal_mpir.cc:43] Element_number:90608
[2024-08-19 18:49:02.093] [info] [seal_mpir.h:98] N:4096 Max bin size:1627 Element size:2600
connected
[2024-08-19 18:49:17.212] [info] [dist_cmp.cc:195] Recv time: 6.056518 ms
[2024-08-19 18:49:17.314] [info] [dist_cmp.cc:269] Prepoint time: 101.759845
[2024-08-19 18:49:17.315] [info] [dist_cmp.cc:281] Distance NTT time: 102.052344 ms
[2024-08-19 18:49:17.343] [info] [dist_cmp.cc:306] H2A Time: 19.826853 ms
[2024-08-19 18:49:17.347] [info] [dist_cmp.cc:314] Distance Compute Time : 134.448153 ms
[2024-08-19 18:49:17.348] [info] [sanns_demo.cc:469] Distance cmp time: 353.64301 ms
[2024-08-19 18:49:17.348] [info] [sanns_demo.cc:470] Distance server sent actions: 45, Distance comm: 1.3263864517211914 MB
[2024-08-19 18:49:17.517] [info] [sanns_demo.cc:486] Batch number: 1252, element number: 120, Argmax server sent actions: 960, Argmin comm: 1.7762870788574219 MB
[2024-08-19 18:49:17.517] [info] [sanns_demo.cc:495] Argmin cmp time: 169.138484 ms
[2024-08-19 18:49:17.602] [info] [sanns_demo.cc:510] Gc_Naive_topk cmp time: 85.56768 ms
[2024-08-19 18:49:17.602] [info] [sanns_demo.cc:513] Gc_Naive_topk cmp comm: 19.670512199401855 MB
[2024-08-19 18:49:17.745] [info] [seal_mpir.cc:214] PIR: Recv time: 142.773166 ms
[2024-08-19 18:49:17.745] [info] [seal_mpir.cc:215] PIR: Query recv comm: 28223.9599609375 KB
[2024-08-19 18:49:18.658] [info] [seal_mpir.cc:248] PIR: Compute time: 900.239997 ms
[2024-08-19 18:49:18.667] [info] [seal_mpir.cc:266] PIR: Transfer to Protobuffer: 9.469974 ms
[2024-08-19 18:49:18.675] [info] [seal_mpir.cc:279] PIR: Send time: 7.512711 ms
[2024-08-19 18:49:18.675] [info] [seal_mpir.cc:280] PIR: Query sent comm: 16031.19140625 KB
[2024-08-19 18:49:18.675] [info] [seal_mpir.cc:285] PIR: Answer generate: 1072.776976 ms
[2024-08-19 18:49:18.677] [info] [sanns_demo.cc:520] PIR server response comm: 15.655460357666016 MB
[2024-08-19 18:49:18.677] [info] [sanns_demo.cc:524] PIR cmp time: 1074.958624 ms
[2024-08-19 18:49:18.959] [info] [dist_cmp.cc:216] Distance NTT time: 2.472957 ms
[2024-08-19 18:49:18.963] [info] [dist_cmp.cc:240] H2A Time: 0.996097 ms
[2024-08-19 18:49:18.963] [info] [dist_cmp.cc:249] Distance Compute Time : 6.910361 ms
[2024-08-19 18:49:18.963] [info] [sanns_demo.cc:538] Point_distance comm: 0.05893230438232422 MB
[2024-08-19 18:49:18.963] [info] [sanns_demo.cc:542] Point_distance time: 286.231982 ms
[2024-08-19 18:49:19.053] [info] [sanns_demo.cc:556] End_topk_3550-10 time: 87.493948 ms
[2024-08-19 18:49:19.053] [info] [sanns_demo.cc:560] End_topk_3550-10 comm: 35.31085968017578 MB
[2024-08-19 18:49:19.053] [info] [sanns_demo.cc:567] Total time: 2058.733668 ms
[2024-08-19 18:49:19.053] [info] [sanns_demo.cc:570] Total comm: 74.08158016204834 MB
[2024-08-19 18:49:19.683] [warning] [channel.h:163] Channel destructor is called before WaitLinkTaskFinish, try stop send thread
