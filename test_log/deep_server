[2024-08-19 19:20:51.302] [info] [sanns_demo_deep.cc:257] Total bin number (batch size of argmin): 6244 , Max bin size: 235
[2024-08-19 19:20:51.302] [info] [sanns_demo_deep.cc:273] Batch query size: 186, Cluster size: , Element size (coeff size): 378890
[2024-08-19 19:20:53.590] [info] [state.h:150] CHEETAH: Uses yacl_ferret OT
[2024-08-19 19:20:54.286] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:20:54.982] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:20:55.731] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:20:56.293] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:20:57.082] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:20:57.640] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:20:58.426] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:20:58.986] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:20:59.768] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:00.326] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:01.114] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:01.670] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:02.459] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:03.014] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:03.803] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:04.400] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:05.184] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:05.764] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:06.556] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:07.127] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:07.916] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:08.469] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:09.293] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:09.909] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:10.714] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:11.277] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:12.082] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:12.641] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:13.450] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:14.043] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:14.836] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:15.401] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:16.226] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:16.790] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:17.576] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:18.158] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:18.964] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:19.535] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:20.332] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:20.907] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:21.728] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:22.291] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:23.074] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:23.633] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:24.415] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:24.994] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:25.775] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:26.349] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:27.127] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:27.703] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:28.515] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:29.102] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:29.905] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:30.507] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:31.308] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:31.880] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:32.681] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:33.252] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:34.050] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:34.627] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:35.405] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:35.979] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:36.777] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:37.336] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:38.121] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:38.694] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:39.497] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:40.073] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:40.878] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:41.452] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:42.251] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:42.822] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:43.614] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:44.185] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:44.977] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:45.548] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:46.337] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:46.910] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:47.695] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:48.266] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:49.050] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:49.634] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:50.427] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:50.999] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:51.805] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:52.379] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:53.163] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:53.736] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:54.525] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:55.100] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:55.885] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:56.460] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:57.243] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:57.801] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:58.587] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:59.162] [info] [yacl_ote_adapter.cc:202] Doing Ferret-OT Bootstrap now!
[2024-08-19 19:21:59.614] [info] [sanns_demo_deep.cc:199] DB: element number:378890 element size:3920
[2024-08-19 19:22:30.258] [info] [thread_pool.cc:30] Create a fixed thread pool with size 63
[2024-08-19 19:22:30.283] [info] [seal_mpir.cc:43] Element_number:378890
[2024-08-19 19:22:30.303] [info] [seal_mpir.h:98] N:4096 Max bin size:4125 Element size:3920
connected
[2024-08-19 19:23:43.698] [info] [dist_cmp.cc:195] Recv time: 23.753405 ms
[2024-08-19 19:23:44.149] [info] [dist_cmp.cc:269] Prepoint time: 450.564566
[2024-08-19 19:23:44.149] [info] [dist_cmp.cc:281] Distance NTT time: 451.074504 ms
[2024-08-19 19:23:44.251] [info] [dist_cmp.cc:306] H2A Time: 88.895191 ms
[2024-08-19 19:23:44.308] [info] [dist_cmp.cc:314] Distance Compute Time : 610.454529 ms
[2024-08-19 19:23:44.311] [info] [sanns_demo_deep.cc:452] Distance cmp time: 1404.164341 ms
[2024-08-19 19:23:44.311] [info] [sanns_demo_deep.cc:453] Distance server sent actions: 93, Distance comm: 4.112466812133789 MB
[2024-08-19 19:23:51.142] [info] [sanns_demo_deep.cc:468] Batch number: 6244, element number: 235, Argmax server sent actions: 2578, Argmin comm: 17.286571502685547 MB
[2024-08-19 19:23:51.142] [info] [sanns_demo_deep.cc:476] Argmin cmp time: 6830.904438 ms
[2024-08-19 19:23:57.899] [info] [sanns_demo_deep.cc:491] Gc_Naive_topk cmp time: 6756.932549 ms
[2024-08-19 19:23:57.899] [info] [sanns_demo_deep.cc:494] Gc_Naive_topk cmp comm: 139.88010787963867 MB
[2024-08-19 19:23:59.669] [info] [seal_mpir.cc:214] PIR: Recv time: 1770.224666 ms
[2024-08-19 19:23:59.670] [info] [seal_mpir.cc:215] PIR: Query recv comm: 45780.033203125 KB
[2024-08-19 19:24:02.454] [info] [seal_mpir.cc:248] PIR: Compute time: 2765.203738 ms
[2024-08-19 19:24:02.472] [info] [seal_mpir.cc:266] PIR: Transfer to Protobuffer: 18.366491 ms
[2024-08-19 19:24:02.484] [info] [seal_mpir.cc:279] PIR: Send time: 11.970335 ms
[2024-08-19 19:24:02.484] [info] [seal_mpir.cc:280] PIR: Query sent comm: 25994.1748046875 KB
[2024-08-19 19:24:02.484] [info] [seal_mpir.cc:285] PIR: Answer generate: 4585.244917 ms
[2024-08-19 19:24:02.489] [info] [sanns_demo_deep.cc:500] PIR server response comm: 25.384936332702637 MB
[2024-08-19 19:24:02.489] [info] [sanns_demo_deep.cc:504] PIR cmp time: 4589.839606 ms
[2024-08-19 19:24:04.050] [info] [dist_cmp.cc:216] Distance NTT time: 6.20932 ms
[2024-08-19 19:24:04.057] [info] [dist_cmp.cc:240] H2A Time: 3.011154 ms
[2024-08-19 19:24:04.059] [info] [dist_cmp.cc:249] Distance Compute Time : 15.145593 ms
[2024-08-19 19:24:04.059] [info] [sanns_demo_deep.cc:514] Point_distance comm: 0.132568359375 MB
[2024-08-19 19:24:04.059] [info] [sanns_demo_deep.cc:518] Point_distance time: 1570.021311 ms
[2024-08-19 19:24:09.568] [info] [sanns_demo_deep.cc:528] End_topk_11490-10 time: 7078.525362 ms
[2024-08-19 19:24:09.568] [info] [sanns_demo_deep.cc:532] End_topk_11490-10 comm: 132.98704147338867 MB
[2024-08-19 19:24:09.568] [info] [sanns_demo_deep.cc:539] Total time: 26660.416783 ms
[2024-08-19 19:24:09.568] [info] [sanns_demo_deep.cc:542] Total comm: 320.4652109146118 MB
[2024-08-19 19:24:10.271] [warning] [channel.h:163] Channel destructor is called before WaitLinkTaskFinish, try stop send thread
